# Environment Configuration
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=["*"]

# Vector Database - Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION=documents
QDRANT_USE_HTTPS=false
VECTOR_SIZE=384
DISTANCE_METRIC=Cosine

# Qdrant Performance Settings
HNSW_M=16
HNSW_EF_CONSTRUCT=100
ENABLE_QUANTIZATION=true
ON_DISK_PAYLOAD=true

# ChromaDB (for development)
CHROMA_PERSIST_DIR=./data/chroma

# Embedding Model
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DEVICE=cpu  # cpu or cuda
EMBEDDING_BATCH_SIZE=32
EMBEDDING_CACHE_SIZE=1000

# LLM Configuration
LLM_PROVIDER=openai  # openai, anthropic, google, local
LLM_MODEL=gpt-4-turbo-preview
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=1000
LLM_TIMEOUT=60
LLM_MAX_RETRIES=3

# API Keys
OPENAI_API_KEY=your_openai_key_here
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# Document Processing
CHUNK_SIZE=512
CHUNK_OVERLAP=128
MAX_CHUNK_SIZE=1024
RESPECT_SENTENCE_BOUNDARIES=true

# Retrieval Configuration
TOP_K=5
SIMILARITY_THRESHOLD=0.7
ENABLE_HYBRID_SEARCH=true
DENSE_WEIGHT=0.7
SPARSE_WEIGHT=0.3
ENABLE_RERANKING=true
RERANK_TOP_N=10

# BM25 Configuration
BM25_K1=1.5
BM25_B=0.75

# Query Processing
ENABLE_QUERY_EXPANSION=true
MULTI_QUERY_COUNT=3

# Data Management
ENABLE_DEDUPLICATION=true
DOCUMENT_RETENTION_DAYS=90
SUPERSEDED_RETENTION_HOURS=24
CLEANUP_SCHEDULE_CRON="0 2 * * *"

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL=3600

# Database (PostgreSQL)
DATABASE_URL=postgresql://raguser:ragpass@localhost:5432/ragdb
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# Monitoring & Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_PORT=9090

# Evaluation
GOLDEN_DATASET_PATH=./data/golden_dataset.jsonl
EVALUATION_SCHEDULE_CRON="0 0 * * 0"

# File Upload
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=[".pdf", ".txt", ".md", ".html", ".docx"]
UPLOAD_TEMP_DIR=./data/uploads

# Background Tasks (Celery)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Backup & Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE_CRON="0 3 * * 0"
BACKUP_STORAGE_PATH=./backups

# Feature Flags
ENABLE_STREAMING=true
ENABLE_CITATIONS=true
ENABLE_CONTEXTUAL_COMPRESSION=true